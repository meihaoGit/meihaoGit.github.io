---
layout: post
title:  "Rails 5用"
date:   2016-08-02
category: Rails
tags: [Rails]
---

## Rails 5用

##### 勉強備忘資料

- [Rails 5.0.0 + Bootstrap](http://morizyun.github.io/blog/rails5-application-templates/) - Rails 5.0.0 + Bootstrap の Application Template 1コマンドで

- [vector icons](http://fontawesome.io/) - vector icons

## Postgresqlをインストール

##### Postgresql     

- DBMS(DataBase Management System)

- [postgresql Home page](https://www.postgresql.org/) - postgresql

- [postgresql download page](https://www.postgresql.org/download/linux/redhat/) - postgresql download

##### Centos7にインストール

- [参考：CentOSにPostgreSQL9.5をインストール](http://qiita.com/SOJO/items/a1d97887d24c3e44596f) - CentOSにPostgreSQL9.5をインストールおよびテスト

~~~
$ yum localinstall http://yum.postgresql.org/9.5/redhat/rhel-7-x86_64/pgdg-centos95-9.5-2.noarch.rpm
$ yum list postgres*
$ yum install -y postgresql95-server.x86_64 postgresql95-contrib.x86_64 postgresql95-libs.x86_64 postgresql95-devel

~~~ 

- 起動、自動起動設定、バージョン確認

~~~ 
$ systemctl enable postgresql-9.5.service
$ systemctl start postgresql-9.5.service 
$ systemctl status postgresql-9.5.service

$ psql --version
  psql (PostgreSQL) 9.5.3
  
~~~

- 設定ファイル修正

~~~
$ sudo vi /var/lib/pgsql/9.5/data/postgresql.conf   

$ sudo vi /var/lib/pgsql/9.5/data/pg_hba.conf    

~~~

- rootユーザ操作

~~~
su - postgres 
psql -c "alter user postgres with password 'postgresql'"

psql -c "alter user pguser with password 'pguser'" 
psql -l    

psql testdb

testdb=# createuser pguser

testdb=# createdb testdb -O pguser

ALTER ROLE pguser WITH CREATEROLE CREATEDB;
ALTER ROLE pguser WITH CREATEROLE SUPERUSER;
ALTER ROLE pguser WITH CREATEDB;

alter role pguser createdb;

testdb=# \q

~~~

## ユーザ作成


$ createuser -S -D -R -P user1


新しいロールのためのパスワード:　←作成するデータベースユーザ user1 のパスワードを入力 <br>
もう一度入力してください：　←同じパスワードを再入力 <br>
なお、createuserコマンドのオプションは以下の通りです。<br>

| オプション  |  説明                               |
|:-----------:|:------------------------------------|
| -P          | パスワードを設定する。              |
| -s          |スーパーユーザ権限を与える。         |
| -S          |スーパーユーザ権限を与えない。       |
| -d          |データベース作成権限を与える。       |
| -D          |データベース作成権限を与えない。     |
| -r          |ユーザ作成権限を与える。             |
| -R          |ユーザ作成権限を与えない。           |
| -l          |ログイン権限を与える。（デフォルト） |
| -L          |ログイン権限を与えない。             |

---

## 番外(vagrant)

vagrantで作ったpostgresqlに接続したかった。。
$ sudo -u postgres psql

#\ password pguser 
Enter new password:
Enter it again:

- [初期化参考](https://www.server-world.info/query?os=CentOS_7&p=postgresql) - PostgreSQL をインストールし、データベースサーバーを構築


## rails api

- [rails api](http://qiita.com/magaya0403/items/f9cd1340960ab997cf63) - grapeで簡単に作るrails api  

## 参考例

- [rails5 Movie Review App](https://rubyplus.com/articles/3981-Integrating-Twitter-Bootstrap-4-with-Rails-5) - Movie Review App Video Series  


- [NGROK](https://chronogram.me/secure-headers/) - NGROKでローカル開発 

- * localhostで動いているサーバーを外部（LAN外）からアクセスできるように中継をしてくれるツールです

