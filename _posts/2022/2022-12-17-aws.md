---
layout: post
title: "2022 AWS Route 53 Web ページを表示"
date: 2022-12-17
category: Aws
tags: [Aws]
---

## AWS EC2 参考資料

- [Amazon Route 53 の設定](https://docs.aws.amazon.com/ja_jp/Route53/latest/DeveloperGuide/routing-to-ec2-instance.html)

- [Amazon EC2 オンデマンド料金](https://aws.amazon.com/jp/ec2/pricing/on-demand/#Elastic_IP_Addresses)

## ドメイン申請

- [freenom](https://www.freenom.com/ja/index.html)

## 手順

1. EC2 の準備(EC2)
2. ドメイン申請 (freenom)
3. Route53 でホストゾーンを設定(EC2)
4. NS レコードを freenom に登録 (freenom)
5. web サーバーとテストページの設定
6. VirtualHost の設定
7. Elastic IP を EC2 へアタッチしてグローバル IP を固定する
8. ドメイン名と IP を紐付けるレコード
   - https://us-east-1.console.aws.amazon.com/route53/v2/hostedzones#
   - レコード作成

## 参考資料

- [[Route53] 無料ドメインを使用して EC2 のコンテンツを表示](https://dev.classmethod.jp/articles/free-domain-ec2-web-server-access/)

- [AWS Route 53 を使って独自ドメインの Web ページを表示](https://avinton.com/academy/route53-dns-vhost/)

## Apache httpd 起動

- web サーバーとテストページの設定

```sh
% sudo yum update -y //パッケージのアップデート
% sudo yum install httpd -y //Apache のインストール
% cd /var/www/html //テストページを保存するディレクトに移動(EC2 にアクセスした時にここにコンテンツが有れば表示されます)
% sudo touch index.html //新規ファイルを作成
% sudo vi index.html //Vi を使って前項で作ったファイルにコードを書きます
% sudo systemctl start httpd //Apache を起動
```

## VirtualHost の設定

- /etc/httpd/conf.d/vhost.conf

```
NameVirtualHost *:80

DocumentRoot "/var/www/html/"
ServerName i-like-your-shoes.tk
```

- Apache を再起動

```sh
systemctl restart httpd
```
